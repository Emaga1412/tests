Тест кейс: Выбор города в котором находимся во всплывающем окне

1. Подключаем библиотеку playwright
from playwright.sync_api import sync_playwright
Пояснение:
    from playwright.sync_api import sync_playwright — эта строка импортирует (подключает) библиотеку Playwright.
    Она нужна для того, чтобы управлять браузером
    и автоматизировать все действия, как будто это делает человек. Используем sync_playwright,
    потому что будем работать в синхронном режиме, что проще для понимания.

2. Описание теста
def test_select_city_and_search():
Пояснение:
    def test_select_city_and_search(): — это начало функции, которая называется test_select_city_and_search.
    Внутри этой функции будет происходить весь тест. Функция — это как коробка, в которой мы будем делать разные действия.

3. Запускаем браузер
with sync_playwright() as p:
browser = p.chromium.launch(headless=False)
page = browser.new_page()
Пояснение:
    3.1 with sync_playwright() as p: — здесь мы говорим, что будем работать с Playwright, и создаем объект p,
    который будет управлять браузером.
    3.2 browser = p.chromium.launch(headless=False) — мы говорим Playwright запустить браузер. В данном случае мы
    используем Chromium, это как Chrome. Мы указываем headless=False, чтобы видеть, как браузер работает
    (если поставить headless=True, браузер будет работать "без головы" — без окна, то есть тест будет выполняться в
    фоновом режиме).
    3.3 page = browser.new_page() — создаем новую страницу в браузере, чтобы можно было на ней работать
    (открывать сайты, кликать и так далее).


4. Переход на сайт
page.goto("https://example.com")
Пояснение:
    page.goto("https://example.com") — эта строка говорит браузеру перейти на сайт,
    указанный в кавычках. В данном случае, это сайт https://example.com. Замените его на URL вашего сайта.

5. Ожидание всплывающего окна
page.wait_for_selector("text=Выберите город в котором вы находитесь")
Пояснение:
    page.wait_for_selector("text=Выберите город в котором вы находитесь") — Playwright должен подождать, пока на
    странице не появится всплывающее окно с текстом "Выберите город в котором вы находитесь".
    Это как сказать: "Жди, пока не появится нужный элемент на странице".

6. Клик по кнопке "Выбрать другой город"
page.click("text=Выбрать другой город")
Пояснение:
    page.click("text=Выбрать другой город") — здесь мы говорим Playwright кликнуть по кнопке или ссылке с текстом
    "Выбрать другой город".
    Playwright найдет этот текст на странице и щелкнет по нему.

7. Ожидание поиска города
page.wait_for_selector("input[placeholder='Введите название города']")
Пояснение:
    page.wait_for_selector("input[placeholder='Введите название города']") — Playwright снова ждет, пока на странице не
    появится поисковая строка,
    в которую нужно ввести название города. Этот элемент имеет атрибут placeholder со значением "Введите название города".

8. Ввод "Сочи" в поисковую строку
page.fill("input[placeholder='Введите название города']", "Сочи")
Пояснение:
    page.fill("input[placeholder='Введите название города']", "Сочи") — здесь мы говорим Playwright ввести текст "Сочи"
    в поисковую строку,
    которая была найдена по placeholder='Введите название города'. Это как нажать на поле и ввести текст.

9. Ожидание появления города "Сочи"
page.wait_for_selector("text=Сочи")
Пояснение:
    page.wait_for_selector("text=Сочи") — Playwright ждет, пока на странице появится результат поиска с текстом "Сочи".
    Когда это произойдет, тест продолжит выполнение.

10. Клик по городу "Сочи"
page.click("text=Сочи")
Пояснение:
    page.click("text=Сочи") — Playwright кликает по тексту "Сочи", чтобы выбрать этот город.

11. Ожидание главной страницы
page.wait_for_selector("div.main-page")
Пояснение:
    page.wait_for_selector("div.main-page") — Playwright ждет, пока на странице не появится элемент с классом main-page.
    Это может быть элемент главной страницы, который мы используем, чтобы проверить, что сайт полностью загрузился.

12. Проверка, что мы на главной странице
assert page.url == "https://example.com/main" - тут надо поменять, думаю, на более точную инфу,
потому что урл не меняется при появлении окна с геолокацией
Пояснение:
    assert page.url == "https://example.com/main" — эта строка проверяет, что мы находимся на главной странице сайта,
    то есть URL страницы совпадает с https://example.com/main. Если это не так, тест не пройдет, и вы получите ошибку.

13. Закрытие браузера
browser.close()
Пояснение:
    browser.close() — после того, как тест завершен, мы закрываем браузер, чтобы освободить ресурсы.

14. Запуск теста
test_select_city_and_search()
Пояснение:
    test_select_city_and_search() — эта строка запускает функцию, которая описана выше. То есть она начинает выполнение
    всех шагов, которые мы написали для теста.